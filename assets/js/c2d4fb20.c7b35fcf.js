(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{104:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return a})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return p})),n.d(t,"default",(function(){return u}));var r=n(3),o=n(7),i=(n(0),n(113)),a={sidebar_position:2},c={unversionedId:"codepush",id:"codepush",isDocsHomePage:!1,title:"Tutorial - Codepush and the Hydro-SDK Registry",description:"Using codepush and the Hydro-SDK Registry to deliver updates directly to your users.",source:"@site/docs/codepush.md",sourceDirName:".",slug:"/codepush",permalink:"/docs/codepush",editUrl:"https://github.com/hydro-sdk/hydro-sdk.io/edit/main/docs/codepush.md",version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Tutorial - Adding to a Flutter App",permalink:"/docs/intro"},next:{title:"Structured Wrapper and Interface Generator for Dart (SWID)",permalink:"/docs/design-documents/swid"}},p=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Registry",id:"registry",children:[{value:"Signing Up",id:"signing-up",children:[]},{value:"Creating a Project",id:"creating-a-project",children:[]},{value:"Codepush",id:"codepush",children:[]}]}],s={toc:p};function u(e){var t=e.components,n=Object(o.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"Using codepush and the Hydro-SDK Registry to deliver updates directly to your users."),Object(i.b)("h2",{id:"prerequisites"},"Prerequisites"),Object(i.b)("p",null,"This tutorial assumes you have read and followed along with the previous ",Object(i.b)("a",{parentName:"p",href:"https://hydro-sdk.io/docs/intro"},"Adding to a Flutter App tutorial")),Object(i.b)("h2",{id:"registry"},"Registry"),Object(i.b)("p",null,"The Hydro-SDK Registry (",Object(i.b)("a",{parentName:"p",href:"https://registry.hydro-sdk.io"},"https://registry.hydro-sdk.io"),") provides a place to browse and manage Hydro-SDK projects, components and their packages. In the ",Object(i.b)("a",{parentName:"p",href:"https://hydro-sdk.io/docs/intro"},"previous tutorial"),", a counter app was built using Hydro-SDK. The end users of this app will download and install the compiled Flutter host app (written in Dart) from their respective app store. Likewise, end users will receive the Hydro-SDK content of the app from the Registry."),Object(i.b)("h3",{id:"signing-up"},"Signing Up"),Object(i.b)("p",null,"Registry is free, though requires a Github account to publish and manage your own projects and components."),Object(i.b)("p",null,'Click "Signin with Github" on the top right and follow the prompts to connect your Github account. Once your account is connected, you\'ll see your Github profile picture.'),Object(i.b)("p",null,'Click on your Github profile picture and select "Projects" to view your projects.'),Object(i.b)("h3",{id:"creating-a-project"},"Creating a Project"),Object(i.b)("p",null,"In the ",Object(i.b)("a",{parentName:"p",href:"https://hydro-sdk.io/docs/intro"},"previous tutorial"),', we created a project description with a project called "example-project" and a component named "counter-example". Project names are global and must be unique across all of the Registry. Component names need only be unique within a given project.'),Object(i.b)("p",null,'When you connect your Github account with the Registry, a project with a name derived from your Github name is created (for example, "chris-gibb"). Change the project name in your local project description (in ',Object(i.b)("inlineCode",{parentName:"p"},"hydro.json"),") and in the use of the ",Object(i.b)("inlineCode",{parentName:"p"},"RunComponent")," widget (in ",Object(i.b)("inlineCode",{parentName:"p"},"lib/main.dart"),") to reflect the project name created for you."),Object(i.b)("p",null,'Open the project in the Registry and click "New Component". Name it ',Object(i.b)("inlineCode",{parentName:"p"},"counter-example"),". Once the ",Object(i.b)("inlineCode",{parentName:"p"},"counter-example")," component has been created, you'll be presented with its private key. Click to copy the full private key and save it to a file named ",Object(i.b)("inlineCode",{parentName:"p"},"key.pem"),". Make sure to keep ",Object(i.b)("inlineCode",{parentName:"p"},"key.pem")," a secret and don't lose it. This key will be used to sign and publish releases of ",Object(i.b)("inlineCode",{parentName:"p"},"counter-example"),"."),Object(i.b)("h3",{id:"codepush"},"Codepush"),Object(i.b)("p",null,"With the project and component created on the Registry, packages can be published using the ",Object(i.b)("inlineCode",{parentName:"p"},"codepush")," command."),Object(i.b)("p",null,"Run ",Object(i.b)("inlineCode",{parentName:"p"},"npx hydroc codepush --private-key-file key.pem")," to build, sign and publish a package."),Object(i.b)("p",null,"Packages are immediately available to end users. If a package newer than the one that ",Object(i.b)("inlineCode",{parentName:"p"},"RunComponent")," is currently running is available on the Registry, it will be downloaded and cached. The next time ",Object(i.b)("inlineCode",{parentName:"p"},"RunComponent")," is mounted, it will run the cached package."))}u.isMDXComponent=!0},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return h}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=o.a.createContext({}),u=function(e){var t=o.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},d=function(e){var t=u(e.components);return o.a.createElement(s.Provider,{value:t},e.children)},l={inlineCode:"code",wrapper:function(e){var t=e.children;return o.a.createElement(o.a.Fragment,{},t)}},b=o.a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,a=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),d=u(n),b=r,h=d["".concat(a,".").concat(b)]||d[b]||l[b]||i;return n?o.a.createElement(h,c(c({ref:t},s),{},{components:n})):o.a.createElement(h,c({ref:t},s))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,a=new Array(i);a[0]=b;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:r,a[1]=c;for(var s=2;s<i;s++)a[s]=n[s];return o.a.createElement.apply(null,a)}return o.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);